# 4.设备树  


## 设备树文件  .dts  .dtsi

* 使用#include 引入其他文件   如同一个SOC可能有很多板子，这些板子有些通用的信息，可以把这些信息放在后缀为.dtsi的文件中；  
    * 如CPU主频、片上外设、中断控制器、内部RAM起始地址  

* 以 / 开始  描述设备信息

* / 开始为根节点，每个设备树文件只有一个，每个根节点下可以有其他子节点  
* xxx = “xxxxx”  表示某个属性 及其对应的值  

* 根节点下，其他子节点　以 xxxx { }; 表示  
* 根节点之外，类似 &cpu0语句，表示追加，即向cpu0这个标签代表的节点追加内容 (cpu0: cpu@0)  
* 不同.dtsi文件中，节点相同的表示追加上，同一节点下，属性相同的会覆盖  

* 节点名使用　name@unit-address  
    * unit-address表示设备地址或者寄存器首地址  写驱动时就可以依靠这个信息初始化设备，如IIC
    * unit-address代表的含义一定是根据具体节点而言的，并不一定就是外设寄存器地址，比如IIC的某个设备节点中，它代表的可能是该IIC设备的地址，其它节点具体分析  
* label : node-name@unit-address    
    * label : 标签名  后续可以使用标签名代替较长的节点名  如 intc: interrupt-controller@00a01000  后续可以用 &intc

![2022-08-02 10-02-26 的屏幕截图](https://user-images.githubusercontent.com/58176267/182275962-56331b8f-82b4-4f16-8a45-98b20b5b1a1a.png)  
![2022-08-02 10-02-58 的屏幕截图](https://user-images.githubusercontent.com/58176267/182275980-f74e111e-6792-49c0-bab1-795a1e09e5ac.png)  


### 节点属性  

![2022-08-02 10-20-46 的屏幕截图](https://user-images.githubusercontent.com/58176267/182277774-be914cf6-daaa-472d-80fc-13ce02937f38.png)  


## 设备树在根文件系统中的体现  

* 系统启动后，






