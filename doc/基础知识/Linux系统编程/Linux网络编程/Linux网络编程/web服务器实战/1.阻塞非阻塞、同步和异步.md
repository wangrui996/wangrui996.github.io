# 1.阻塞非阻塞、同步和异步  


* 这里主要针对网络I/O的解释  实际上磁盘的IO、网络I/O都有两个阶段  

* **典型的一次I/O有两个阶段： 数据就绪(准备) 和 数据读写  

* **数据就绪： 例如，作为服务器要监听客户端有无数据过来，这是数据就绪状态(数据准备状态)    
    * 
    * 阻塞： 当数据还没有到达之前，调用操作I/O的函数，如果还没有数据到达，就处于阻塞的状态，线程就会挂起，不再占用CPU资源；
    * 非阻塞：数据没有达到，不会处于阻塞状态，不会被挂起   此种情况，一般通过返回值判断对方状态(是有数据发送过来还是没有数据)；

## recv 系统调用  

* sockfd在内核对应有TCP接收缓冲区，当对方已经有数据发过来(到了接收缓冲区)，再调用recv时不会阻塞，反之，数据没有到达，先调用

* 返回值
    * 读到的数据的大小 

![image](https://user-images.githubusercontent.com/58176267/179402408-d23086a4-6cc5-44ea-86cd-e65cc4a507c8.png)  


* **数据读写：数据过来了，也就到了TCP的读缓冲区，此时数据在内核中，此时怎样去读或写，这是数据读写状态  


## 阻塞和非阻塞  

* 阻塞
