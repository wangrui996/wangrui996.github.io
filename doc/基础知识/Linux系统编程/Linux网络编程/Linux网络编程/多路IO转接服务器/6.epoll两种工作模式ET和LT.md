# 6.epoll两种工作模式ET和LT  


* 首先说明：epoll等，虽然主要使用在网络编程中，但是它们的API中的文件描述符，不一定是socket，可以是管道等  


## ET 和 LT  

* LT ： 水平触发  
* ET :  边沿触发  



* 看下面例子  
    * 子进程每次向管道写端写入10字节数据 "aaaa\nbbbb\n" 、 "cccc\ndddd\n"......
    * 父进程使用epoll模型监听，由于我们确信只有一个连接，这里demo的实现就很简单 
    * 父进程每次只read缓冲区一半的数据  可知，每次读完以后，到下一次子进程重新向缓冲区写数据之前，缓冲区仍存在数据  


* **LT和ET的区别就是：缓冲区剩下的数据，会不会对epoll_wait进行触发**  

* 默认的 LT 模式就是：当缓冲区仍存在数据时，会对epoll_wait 进行触发   也就是如果父进程再次调用 epoll_wait 时，对应的一个文件描述符读缓冲区有数据，就算作事件  
* ET模式，缓冲区剩下的数据不会对epoll_wait进行触发，什么


![image](https://user-images.githubusercontent.com/58176267/179650472-858c5d93-eeff-4c1b-a8d2-1f7ce20ceed5.png)  
![image](https://user-images.githubusercontent.com/58176267/179650518-7a8dafa9-eeb0-4be3-99fa-527d2bfb7f16.png)  


![image](https://user-images.githubusercontent.com/58176267/179650555-4286dc9c-4cce-4d38-a806-db25275e874a.png)
