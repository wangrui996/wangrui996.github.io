# vim  

## 工作模式  

* 命令模式
* 文本模式
* 末行模式  

通过vi xxx  如果有xxx会打开如果没有会创建，打开后进入的是**命令模式**  


## 文本/编辑模式  

i a o(或他们的大写) 进入文本模式进行编辑   

![image](https://user-images.githubusercontent.com/58176267/157905185-cb07d9c9-b663-496b-a54b-702866569b4c.png)


## 保存退出  

* 保存与退出需要进入到**末行模式**进行  
* **从文本模式无法直接进入末行模式**  
* 文本模式下 **ESC** 进入命令模式  
* **命令模式**下切换到**末行模式**  输入冒号 :   

![image](https://user-images.githubusercontent.com/58176267/157905115-cae0d30b-f2a1-48c4-a111-eb0f0704f3bd.png)  

* 末行模式下  
    * w : 保存
    * q : 退出  

* 命令模式下直接退出  ZZ  


## 不同方式进入文本模式    

命令模式下，光标移动到某个字符上，**使用不同的方式进入文本模式的区别**  
* i————在光标所在字符的前面位置进行输入  
* a————在光标所在字符后输入    
* o————在光标所在行的下一行输入    
* I————光标所在行的行首  
* A————光标所在行的行尾  
* O————光标所在行的上一行  
* s————删除当前字符，切换到文本模式  
* S————删除当前行，并切换到文本模式  


## 跳转和删字符    

光标移动到某一字符上   

* h————向前  
* j————向下  
* k————向上  
* l————向右  

### 跳转  

#### 跳转到指定行  

命令模式下：  
* 行号 G   跳转到指定行  

末行模式下：  
* 行号 回车  跳转到指定行  


#### 跳转到行首和行尾

0 快速移动到行首(命令模式下)  工作模式不变  
$ 光标移动到行尾(命令模式下)  工作模式不变


#### 跳转到文件首  

gg (命令模式下)  

#### 跳转到文件尾

G (命令模式下) 


#### % 括号对应——跳转到程序中匹配的括号位置  

光标移动到某一个大括号或小括号，命令模式下使用%，会跳转到与其匹配的大括号(小括号)位置，可以再按%回来  

### 自动格式化程序  

如写的某段代码某些括号没有对齐等，缩进不对，适用于从网页上copy的现有代码  

gg=G (命令模式下)

### 删除  

#### x 删除单个字符  
x :  光标移动到某个字符上，x删除该字符  
s ： 删除该字符后会进入文本模式  

#### r + 新字符   替换单个字符  

光标选中待替换的字符，按r，然后输入要替换的新字符  

#### dw 删除单词  
将光标放在单词首字母  dw 删除一个单词  

#### D (shift d) 或 d+$   删除光标位置到行尾的内容

#### d0  删除光标位置到行首的内容


#### 删除某段区域的内容  

命令模式下按V，切换到可视模式，通过hjkl挪移光标选中要删除的区域，按d删除

#### dd 删除指定行  

#### 行数+dd  删除多行  

光标移动到要删除的首行，输入要删除的行数+dd，删除多行  如 3dd

## 复制粘贴  

#### yy 复制一行

#### p 粘贴 到光标所在行的下一行 

#### P 粘贴到光标所在行的上一行  

### 删除和粘贴也可能混用，也就是vi没有实际上的删除，类似剪切  

#### 行数+yy 复制多行  


#### 复制一个区域  

V进入可视模式，hjkl选中区域后按yy复制没然后粘贴  



## 查找和替换  

### 查找  

1. 查找设想的内容
命令模式下，按 “/”   然后输入查找的内容后回车可    
按n(next)可以看下一个  

2. 查找所选中的内容  
在文章选中某内容，然后使用 * 即可检索和选中内容相同的内容，之后可通过不断按 “*” 查找下一个   按 “#” 可查找上一个

### 替换  



