# 5.交换机  

* 链路层设备  
* 主要指针对以太网的交换机  
* **作用：存储-转发以太网帧**  

![image](https://user-images.githubusercontent.com/58176267/179131161-a75fbe76-7f4d-464d-a490-4f115df7712c.png)  


* 交换机再每段链路上利用CSMA/CD收发帧，无冲突(**原因是每一个接口只连接一个计算机，一个接口所连接的网络只有一个冲突域**)  

![image](https://user-images.githubusercontent.com/58176267/179131403-63ba843f-398a-457e-8bc7-29e172368102.png)  


## 交换表  

* 问题中，A' 和 B’ 应该是MAC地址，也就是交换机收到一个数据帧，知道它的目的MAC地址，是怎样知道它对应的是那个接口？  
* **每个交换机维护一个交换表，每一个交换表项(入口)，记录了主机的MAC地址，和到达主机的接口，时间戳** 时间戳超时以后，该交换表项清除，再重新学习    

![image](https://user-images.githubusercontent.com/58176267/179132021-de792b60-cfa4-4fcf-ae76-10a0b62e0e64.png)  


## 交换机：自学习  

![image](https://user-images.githubusercontent.com/58176267/179132462-11d00b08-b822-4f51-9fdf-0ffadcc2b540.png)  


## 交换机 帧过滤/转发  

* 检索目的MAC地址发现在交换表中有，还要做一层判断，就是判断这个目的MAC地址(目的主机)位于的网段，是否和收到这个帧接口所处于的网段相同  如果相同说明发送这个帧的主机和接收这个帧的主机处于同一个网段，对于对于交换机来说，就是出于同一个接口上，此时在交换机看来就没必要转发，丢弃帧    
* 如果在交换表没有检索到与目的MAC地址匹配的表项，进行**泛洪(flood)**:向除收到该帧的接口之外的所有接口转发  




