# Web缓存技术/代理服务器技术  

## 功能  
* 在不访问服务器的前提下满足客户端的HTTP请求  

## 为什么  
* 缩短客户请求的响应时间  
* 减少机构/组织的流量  
* 在大范围内(Internet)实现有效的内容分发  


## 实现  

* 用户设定浏览器通过缓存/代理服务器进行Web访问  
* 浏览器向缓存/代理服务器发送所有的HTTP请求  
    * 如果所请求对象在缓存中，缓存返回对象  
    * 否则，缓存服务器向原始服务器发送HTTP请求，获取对象，然后返回给客户端并保存该对象  
* 缓存既充当客户端，也充当服务器  一般由ISP(Internet服务提供商)架设

![image](https://user-images.githubusercontent.com/58176267/156169563-6d9a99cd-aaaf-4e82-b86a-a1e2dad7dfb1.png)

 
##  怎样保证缓存服务器上的对象与原始服务器上最新的对象一致 

### 条件性GET方法  

HTTP请求有一种条件性GET方法  

* 目标：如果缓存有最新的版本，则不需要发送请求对象  
* 缓存  
      * 在HTTP请求消息中声明所持有版本的日期  
      * If-modified-since: <date>    如果从这个日期之后修改了，就发过来，如果没改，就告诉没改 
* 服务器：
   * 如果缓存的版本是最新的，则响应消息中不包含对象  
   * HTTP/1.0 304 Not Modified  该响应消息不包含对象，只有304代码表示没有改变  
   
 所以，当客户向缓存请求消息时，缓存有必要向服务器发送条件GET请求，只有当没有发生改变时，才会节省带宽（因为只是一个请求和空的响应，对带宽的使用很小）  
   
 
![image](https://user-images.githubusercontent.com/58176267/156172484-d31102be-435d-4567-a383-0e4ce35c302e.png)


